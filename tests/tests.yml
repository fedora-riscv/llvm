- hosts: localhost
  roles:
  - role: standard-test-basic
    tags:
      - classic
    required_packages:
      - llvm-test
      - rust
      - cargo
      # The build-compat test requires mock.
      - mock
    tests:
      - regression-tests:
          dir: ./
          run: /usr/libexec/tests/llvm/run-lit-tests --threads 1
      - rust-sanity:
          dir: ./
          run: cargo new hello && cd hello && cargo run
      # This test ensures that the spec file still builds correctly with
      # %global compat_build 1
      - build-compat

