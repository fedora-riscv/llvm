summary: Run the upstream LLVM integration test suite
description: |
  Run the upstream LLVM integration test suite
test: ./test.sh
require:
  - cmake
  - llvm-devel
  - clang
  - clang-analyzer
  - clang-tools-extra
  - compiler-rt
  - ninja-build
  - libomp-devel
  - lld
  - lldb
  - git
  - make
  - libstdc++-static
  - clang-devel
  - python3-lit
adjust:
  # libcxx shall be required in Fedora, it's not shipped with RHEL.
  - require+:
      - libcxx-devel
    when: "distro == fedora"
    because: testing against libcxx package in Fedora
  - environment+:
      CMAKE_CXXLIB: "-DENABLE_LIBCXX=OFF"
    when: "distro == rhel"
    because: libcxx is not shipped with RHEL
